<!DOCTYPE html>
<html>

<head>
  <title>Annotations</title>
  <link rel="stylesheet" media="screen" href="{{ host_prefix }}/static/css/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="{{ host_prefix }}/static/css/custom.css">
  <link rel="shortcut icon" href="{{ host_prefix }}/static/img/favicon.ico">
  <link rel="stylesheet" href="{{ host_prefix }}/static/css/font-awesome.css">
  <meta name="viewport" content="width=1024">
  <script src="{{ host_prefix }}/static/js/lib/jquery.min.js"></script>
  <script src="{{ host_prefix }}/static/js/lib/popper.min.js"></script>
  <script src="{{ host_prefix }}/static/js/lib/bootstrap.min.js"></script>
  <script src="{{ host_prefix }}/static/js/lib/jsonview.js"></script>
  <script src="{{ host_prefix }}/static/js/lib/split.min.js"></script>
  <script src="{{ host_prefix }}/static/js/lib/underscore-min.js"></script>
  <script src="{{ host_prefix }}/static/js/lib/backbone-min.js"></script>
  <script src="{{ host_prefix }}/static/js/lib/backbone-relational.js"></script>
  <script src="{{ host_prefix }}/static/js/lib/backbone.marionette.min.js"></script>
  <script src="{{ host_prefix }}/static/js/lib/underscore.string.min.js"></script>

  {% include 'crowdsourcing/custom.html' %}
</head><body class="body">
  <nav class="navbar navbar-light bg-annotate">
    <div class="container navbar-left">
      <a class="navbar-brand" href="#">
      </a>

      <div class="navblock" id="actions-area">
        <ul class="pagination" id="nav-example-cnt">
        </ul>

      </div>
      <div class="navblock">

        <ul class="pagination" style="margin-left: 10px;">
          <li class="page-item">
            <button type="button" class="btn btn-sm btn-success" id="submit-annotations-btn"
              onclick="submitAnnotations();" style="display: none;">üëâÔ∏è Submit annotations</button>
          </li>
      </div>
    </div>
  </nav>


  <div class="large-container container">
    <div class="row">
      <div class="split col-12">
        <div id="centerpanel" class="collapse show">
          <div class="tab-content">
            <div id='tabulararea' class="tab-pane sidepanel-panel active" role="tabpanel">
              <div class="d-flex align-items-center justify-content-center">
                <div id="dataset-spinner" class="spinner-border" role="status" style="display: none">
                  <span class="sr-only"></span>
                </div>
              </div>
              <div id='examplearea'> </div>
              <div id='rawarea' style="display: none"> </div>
            </div>
          </div>
        </div>
        <div id="rightpanel" class="collapse show">
          <div id='sidepanel-content' class="tab-content">

            <div class="accordion instructions-accordion">
              <div class="accordion-item">
                <h2 class="accordion-header">
                  <button class="accordion-button collapsed instructions-accordion-button btn-dark" type="button"
                    data-bs-toggle="collapse" data-bs-target="#instructions-acc-body">
                    <b>Instructions</b>
                  </button>
                </h2>
                <div id="instructions-acc-body" class="accordion-collapse collapse">
                  <div class="accordion-body instructions-accordion-body">
                    <p>In this task, you will annotate outputs of an automatic text generation system. For each example, you will see a <strong>table</strong> on the left side and a corresponding generated <strong>claim about the table</strong> on the right side.
<br></p>
<p>Your first task is to <strong>mark factual errors in the claim</strong>. Check closely the validity of the claim <strong>with respect to the table</strong>.</p>
<p>There are four types of errors that you can mark in the generated text:</p>
<ul>
<li><span style="color: rgb(214, 39, 40); text-decoration: underline; text-decoration-thickness: 4px; text-decoration-skip-ink: none"><b>Incorrect</b></span>: The fact in the text contradicts information in the table.</li>
<li><span style="color: rgb(148, 103, 189); text-decoration: underline; text-decoration-thickness: 4px; text-decoration-skip-ink: none"><b>Not checkable</b></span>: The fact in the text cannot be checked given the table.</li>
<li><span style="color: rgb(230, 171, 2); text-decoration: underline; text-decoration-thickness: 4px; text-decoration-skip-ink: none"><b>Misleading</b></span>: The fact in the text is misleading in the given context.</li>
<li><span style="color: rgb(100, 100, 100); text-decoration: underline; text-decoration-thickness: 4px; text-decoration-skip-ink: none"><b>Other</b></span>: There‚Äôs some other problem (grammar, style, relevance, repetitiveness etc.).
<br></li>
</ul>
<p>Mark the errors by clicking the appropriate error category and dragging your mouse over the text, <strong>highlighting the error span</strong>. You can remove highlights by right-clicking them, if needed.
<br></p>
<p>Additionally, <strong>disregarding the errors you found, mark the depth of the claim</strong> by checking the appropriate box:</p>
<ul>
<li>Claim is <strong>poor quality</strong>: The claim is hard to understand or nonsensical.</li>
<li>Claim is <strong>boring</strong>: The claim states an obvious thing you would know by just glancing at the table.</li>
<li>Claim is <strong>informative</strong>: You learned something relatively basic from the table.</li>
<li>Claim is <strong>insightful</strong>: The claim is non-trivial and does some reasoning over the table.
<br><br></li>
</ul>
<div style="background-color: rgb(240, 240, 240);"><div style="background-color: rgb(196, 196, 196);"><b>Example:</b></div>

<br><i>2024 Summer Olympics medal table</i>

<table style="width: 33em; border: 1px solid black;"><tr><th style="border-top: 1px solid black; border-bottom: 1px solid black;"> <i>Rank</i></th><th style="border-top: 1px solid black; border-bottom: 1px solid black;"><i>NOC</i></th><th style="border-top: 1px solid black; border-bottom: 1px solid black;"><i>Gold</i></th><th style="border-top: 1px solid black; border-bottom: 1px solid black;"><i>Silver</i></th><th style="border-top: 1px solid black; border-bottom: 1px solid black;"><i>Bronze</i></th><th style="border-top: 1px solid black; border-bottom: 1px solid black;"><i>Total</i> </th></tr><tr><td> <i>1</i></td><td><i>United States</i></td><td><i>40</i></td><td><i>44</i></td><td><i>42</i></td><td><i>126</i> </td></tr><tr><td> <i>2</i></td><td><i>China</i></td><td><i>40</i></td><td><i>27</i></td><td><i>24</i></td><td><i>91</i> </td></tr><tr><td style="border-bottom: 1px solid black;"> <i>3</i></td><td style="border-bottom: 1px solid black;"><i>Japan</i></td><td style="border-bottom: 1px solid black;"><i>20</i></td><td style="border-bottom: 1px solid black;"><i>12</i></td><td style="border-bottom: 1px solid black;"><i>13</i></td><td style="border-bottom: 1px solid black;"><i>45</i> </td></tr></table><br>

<i>At the 2024 Olympics <span style="color: rgb(148, 103, 189); text-decoration: underline; text-decoration-thickness: 4px; text-decoration-skip-ink: none">in Paris</span>, <span style="color: rgb(230, 171, 2); text-decoration: underline; text-decoration-thickness: 4px; text-decoration-skip-ink: none">China got the most gold medals</span> and placed <span style="color: rgb(214, 39, 40); text-decoration: underline; text-decoration-thickness: 4px; text-decoration-skip-ink: none">first</span> in the <span style="color: rgb(100, 100, 100); text-decoration: underline; text-decoration-thickness: 4px; text-decoration-skip-ink: none">the</span> overall country ranking.</i>

<i><br><br>[<i>x</i>] Claim is insightful</i>

&nbsp;</div>
<p><br></p>
<p>Once you‚Äôre done with both tasks, click the <strong>Mark example as complete</strong> button (you can still update the annotation later).</p>
<p>You can submit your annotations once they are all marked as complete.</p>
                  </div>
                </div>
              </div>
            </div>
            <div id='output-content'>
              <div>
                <div class="mt-3 mb-4 d-flex flex-wrap gap-1 align-items-center" role="group" aria-label="Basic radio toggle button group">
                  
                  <input type="radio" class="btn-check btn-outline-secondary btn-err-cat" name="btnradio"
                    id="btnradio1" autocomplete="off" checked
                    data-cat-idx="0">
                  <label class="btn btn-err-cat-label active"
                    for="btnradio1" style="background-color: rgb(214, 39, 40);">
                    Incorrect
                  </label>
                  
                  <input type="radio" class="btn-check btn-outline-secondary btn-err-cat" name="btnradio"
                    id="btnradio2" autocomplete="off" 
                    data-cat-idx="1">
                  <label class="btn btn-err-cat-label "
                    for="btnradio2" style="background-color: rgb(148, 103, 189);">
                    Not checkable
                  </label>
                  
                  <input type="radio" class="btn-check btn-outline-secondary btn-err-cat" name="btnradio"
                    id="btnradio3" autocomplete="off" 
                    data-cat-idx="2">
                  <label class="btn btn-err-cat-label "
                    for="btnradio3" style="background-color: rgb(230, 171, 2);">
                    Misleading
                  </label>
                  
                  <input type="radio" class="btn-check btn-outline-secondary btn-err-cat" name="btnradio"
                    id="btnradio4" autocomplete="off" 
                    data-cat-idx="3">
                  <label class="btn btn-err-cat-label "
                    for="btnradio4" style="background-color: rgb(127, 127, 127);">
                    Other
                  </label>
                  
                  <div class="ms-auto">
                    <input type="radio" class="btn-check btn-outline-secondary btn-select" name="btnradio"
                      id="btnradioselect" autocomplete="off" data-cat-idx="-2">
                    <label class="btn btn-err-cat-label" for="btnradioselect" style="background-color: #FFF; color: #000 !important;">
                      <i class="fa fa-mouse-pointer" aria-hidden="true"></i> Select mode
                    </label>
                    <input type="radio" class="btn-check btn-outline-secondary btn-eraser" name="btnradio"
                      id="btnradioeraser" autocomplete="off" data-cat-idx="-1">
                    <label class="btn btn-err-cat-label" for="btnradioeraser" style="background-color: #FFF; color: #000 !important;">
                      <i class="fa fa-eraser" aria-hidden="true"></i> Erase mode
                    </label>
                  </div>
                </div>
              </div>
              <div id='text-type-info' class='mt-3'>Drag your mouse over the text to highlight the span:
              </div>
              <div id='outputarea'>
              </div>
            </div>
            <div class="" id="checkbox-annotation-box">
              <div class='mb-4'><p><b>Please check if you agree with any of the following statements:</b></p>
            <div class="form-check crowdsourcing-flag">
                <input class="form-check-input" type="checkbox" value="0" id="checkbox-0">
                <label class="form-check-label" for="checkbox-0">
                    Claim is <b>poor quality</b>: The claim is hard to understand or nonsensical.
                </label>
            </div>
        
            <div class="form-check crowdsourcing-flag">
                <input class="form-check-input" type="checkbox" value="1" id="checkbox-1">
                <label class="form-check-label" for="checkbox-1">
                    Claim is <b>boring</b>: The claim states an obvious thing you would know by just glancing at the table.
                </label>
            </div>
        
            <div class="form-check crowdsourcing-flag">
                <input class="form-check-input" type="checkbox" value="2" id="checkbox-2">
                <label class="form-check-label" for="checkbox-2">
                    Claim is <b>informative</b>: You learned something relatively basic from the table.
                </label>
            </div>
        
            <div class="form-check crowdsourcing-flag">
                <input class="form-check-input" type="checkbox" value="3" id="checkbox-3">
                <label class="form-check-label" for="checkbox-3">
                    Claim is <b>insightful</b>: The claim is non-trivial and does some reasoning over the table.
                </label>
            </div>
        </div>

              

              
              <div class="d-flex align-items-center justify-content-center" id="submit-annotation-box">
                <div class="btn-group" role="group">
                  <button type="button" class="btn btn-sm btn-success" onclick="markAnnotationAsComplete();">‚úÖ Mark
                    example as
                    complete</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  </div>

  <div id="overlay-start" class="overlay">
    <div id="overlay-start-content" class="overlay-content">
      <h1>Welcome!</h1>
      <p>In this task, you will annotate outputs of an automatic text generation system. For each example, you will see a <strong>table</strong> on the left side and a corresponding generated <strong>claim about the table</strong> on the right side.
<br></p>
<p>Your first task is to <strong>mark factual errors in the claim</strong>. Check closely the validity of the claim <strong>with respect to the table</strong>.</p>
<p>There are four types of errors that you can mark in the generated text:</p>
<ul>
<li><span style="color: rgb(214, 39, 40); text-decoration: underline; text-decoration-thickness: 4px; text-decoration-skip-ink: none"><b>Incorrect</b></span>: The fact in the text contradicts information in the table.</li>
<li><span style="color: rgb(148, 103, 189); text-decoration: underline; text-decoration-thickness: 4px; text-decoration-skip-ink: none"><b>Not checkable</b></span>: The fact in the text cannot be checked given the table.</li>
<li><span style="color: rgb(230, 171, 2); text-decoration: underline; text-decoration-thickness: 4px; text-decoration-skip-ink: none"><b>Misleading</b></span>: The fact in the text is misleading in the given context.</li>
<li><span style="color: rgb(100, 100, 100); text-decoration: underline; text-decoration-thickness: 4px; text-decoration-skip-ink: none"><b>Other</b></span>: There‚Äôs some other problem (grammar, style, relevance, repetitiveness etc.).
<br></li>
</ul>
<p>Mark the errors by clicking the appropriate error category and dragging your mouse over the text, <strong>highlighting the error span</strong>. You can remove highlights by right-clicking them, if needed.
<br></p>
<p>Additionally, <strong>disregarding the errors you found, mark the depth of the claim</strong> by checking the appropriate box:</p>
<ul>
<li>Claim is <strong>poor quality</strong>: The claim is hard to understand or nonsensical.</li>
<li>Claim is <strong>boring</strong>: The claim states an obvious thing you would know by just glancing at the table.</li>
<li>Claim is <strong>informative</strong>: You learned something relatively basic from the table.</li>
<li>Claim is <strong>insightful</strong>: The claim is non-trivial and does some reasoning over the table.
<br><br></li>
</ul>
<div style="background-color: rgb(240, 240, 240);"><div style="background-color: rgb(196, 196, 196);"><b>Example:</b></div>

<br><i>2024 Summer Olympics medal table</i>

<table style="width: 33em; border: 1px solid black;"><tr><th style="border-top: 1px solid black; border-bottom: 1px solid black;"> <i>Rank</i></th><th style="border-top: 1px solid black; border-bottom: 1px solid black;"><i>NOC</i></th><th style="border-top: 1px solid black; border-bottom: 1px solid black;"><i>Gold</i></th><th style="border-top: 1px solid black; border-bottom: 1px solid black;"><i>Silver</i></th><th style="border-top: 1px solid black; border-bottom: 1px solid black;"><i>Bronze</i></th><th style="border-top: 1px solid black; border-bottom: 1px solid black;"><i>Total</i> </th></tr><tr><td> <i>1</i></td><td><i>United States</i></td><td><i>40</i></td><td><i>44</i></td><td><i>42</i></td><td><i>126</i> </td></tr><tr><td> <i>2</i></td><td><i>China</i></td><td><i>40</i></td><td><i>27</i></td><td><i>24</i></td><td><i>91</i> </td></tr><tr><td style="border-bottom: 1px solid black;"> <i>3</i></td><td style="border-bottom: 1px solid black;"><i>Japan</i></td><td style="border-bottom: 1px solid black;"><i>20</i></td><td style="border-bottom: 1px solid black;"><i>12</i></td><td style="border-bottom: 1px solid black;"><i>13</i></td><td style="border-bottom: 1px solid black;"><i>45</i> </td></tr></table><br>

<i>At the 2024 Olympics <span style="color: rgb(148, 103, 189); text-decoration: underline; text-decoration-thickness: 4px; text-decoration-skip-ink: none">in Paris</span>, <span style="color: rgb(230, 171, 2); text-decoration: underline; text-decoration-thickness: 4px; text-decoration-skip-ink: none">China got the most gold medals</span> and placed <span style="color: rgb(214, 39, 40); text-decoration: underline; text-decoration-thickness: 4px; text-decoration-skip-ink: none">first</span> in the <span style="color: rgb(100, 100, 100); text-decoration: underline; text-decoration-thickness: 4px; text-decoration-skip-ink: none">the</span> overall country ranking.</i>

<i><br><br>[<i>x</i>] Claim is insightful</i>

&nbsp;</div>
<p><br></p>
<p>Once you‚Äôre done with both tasks, click the <strong>Mark example as complete</strong> button (you can still update the annotation later).</p>
<p>You can submit your annotations once they are all marked as complete.</p>
      <button id="hideOverlayBtn" class="btn btn-primary" disabled>Loading examples...</button>
    </div>
  </div>

  <div id="overlay-end" class="overlay" style="display: none">
    <div id="overlay-end-content" class="overlay-content blue-link">
      <h1>Thank you!</h1>

      <div id="final-message">
      </div>
    </div>
  </div>

  <div id="overlay-fail" class="overlay" style="display: none">
    <div id="overlay-fail-content" class="overlay-content blue-link">
      <h1>Error</h1>

      <p>Sorry, your annotations could not be saved. Error: <span id="error-message" class="font-monospace"></span>.
      </p>

      <p>Possible reasons:
      <ul>
        <li>Your session has expired.</li>
        <li>There was a problem on the server side.</li>
      </ul>
      </p>
      <p>
        For more information, please contact the administrators of this project.
      </p>
    </div>
  </div>

</body><script>
  window.url_prefix = "{{ host_prefix }}";
  window.annotation_set = {{ annotation_set | tojson | safe }};
  window.mode = "annotate";
  window.annotator_id = "{{ annotator_id }}";
  window.metadata = {{ metadata | tojson | safe }};
</script>

<script src="{{ host_prefix }}/static/js/utils.js"></script>
<script src="{{ host_prefix }}/static/js/span-annotator.js"></script>
<script src="{{ host_prefix }}/static/js/annotate.js"></script>